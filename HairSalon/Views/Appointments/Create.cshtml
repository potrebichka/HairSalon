@{
    Layout = "_Layout";
}

@model HairSalon.Models.Appointment

<div id="horizontalMenu">
    <ul>
        <li>@Html.ActionLink("Home", "Index", "Home")</li>
        <li>@Html.ActionLink("Show all stylists","Index", "Stylists")</li>   
        <li>@Html.ActionLink("Back to stylist", "Details", "Stylists", new {id = ViewBag.Stylist.StylistId})</li>
        <li>@Html.ActionLink("Back to appointments", "Index", new {id = ViewBag.Stylist.StylistId})</li>
    </ul>
</div>

<div class="container contentBox">
    @if(ViewBag.Failed)
    {
        <h3>There is a time conflict for this stylist. Try to choose another time.</h3>
        <hr/>
    }
    <h2>Add a new appointment for @ViewBag.Stylist.Name</h2>
    <hr/>

    @using (Html.BeginForm())
    {
        <div class="form-group">
            @Html.LabelFor(model => model.Client)
            @Html.DropDownList("ClientId")
        </div>
        <input type="hidden" value="@ViewBag.Stylist.StylistId" name="StylistId"/>
        
        <div class="form-group">
            @Html.LabelFor(model => model.Description)
            @Html.EditorFor(model => model.Description, new { htmlAttributes = new { @class = "form-control multi-line" } })
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Time)
            @Html.EditorFor(model => model.Time, new { htmlAttributes = new { @class = "form-control" } })
        </div>
        <input type="submit" value="Add a new appointment" class="btn btn-primary" />
    }
</div>

